(()=>{var e={876:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});const r=a.p+"fd297e7834f7f69092ee2c7624e622b3.png"},730:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});const r=a.p+"a252c68bf8bcd138a119029975e7fc8d.svg"},819:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});const r=a.p+"f3a290ce5a16899bd1133ce786c029aa.svg"},578:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});const r=a.p+"325c362515b4229fafe16b2bb7ae2cf3.svg"},290:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});const r=a.p+"59943b7422c54ea2dcc0f8655227c88c.svg"},622:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});const r=a.p+"93643a75122cfb55e782d86798a8bf63.svg"},373:(e,t,a)=>{var r=' <div id="title"> <p class="title-status"> <span id="title-status-label">Printer status: </span> <span id="title-status">Idle</span> </p> <p class="title-hostname"> <span id="title-hostname-label">Hostname: </span> <span id="title-hostname">prusa64-sl1</span> </p> </div> <div class="job" hidden> <p data-type="job" data-where="job.file.name"></p> <div class="job-stats"> <div class="progress"> <progress value="0" max="1"></progress> <p data-format="progress" data-type="job" data-where="progress.completion"> 0% </p> </div> <div class="stats" id="job-stats"> <div> <p>Z-Height</p> <p data-format="pos" data-type="job" data-where="progress.pos_z_mm"></p> </div> <div> <p>Printing Speed</p> <p data-format="print" data-type="job" data-where="progress.printSpeed"></p> </div> <div> <p>Printing Flow</p> <p data-format="print" data-type="job" data-where="progress.flow_factor"></p> </div> <div> <p>Estimated end</p> <p data-format="timeEst" data-type="job" data-where="progress.printTimeLeft"></p> </div> <div> <p>Printing time</p> <p data-format="time" data-type="job" data-where="progress.printTime"></p> </div> </div> </div> </div> <div class="main-wrapper home-row"> <div class="component"> <p>upload project</p> <div class="upload"> <img class="icon" src="'+a(781)(a(819))+'"/> <p>Choose a *.sl1 or drop it here.</p> </div> </div> <div class="component"> <p>temperatures</p> <div id="graph" class="temp"></div> </div> </div> ';e.exports=r},453:(e,t,a)=>{var r=' <div class="job"> <p data-type="job" data-where="job.file.name"></p> <div class="job-stats force-column"> <div class="progress"> <progress value="0" max="1"></progress> <p data-format="progress" data-type="job" data-where="progress.completion"> 0% </p> </div> <div class="stats" id="job-stats"> <div> <p>Z-Height</p> <p data-format="pos" data-type="job" data-where="progress.pos_z_mm"></p> </div> <div> <p>Printing Speed</p> <p data-format="print" data-type="job" data-where="progress.printSpeed"></p> </div> <div> <p>Printing Flow</p> <p data-format="print" data-type="job" data-where="progress.flow_factor"></p> </div> <div> <p>Estimated end</p> <p data-format="timeEst" data-type="job" data-where="progress.printTimeLeft"></p> </div> <div> <p>Printing time</p> <p data-format="time" data-type="job" data-where="progress.printTime"></p> </div> </div> </div> <div class="buttons-wrapper"> <button id="no" class="no"> <img src="'+a(781)(a(730))+'"/> <p>cancel print</p> </button> </div> </div> ';e.exports=r},685:e=>{e.exports=' <div class="loading"> <img class="icon" src="data:image/svg+xml,%3csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; style=&#39;margin:auto%3bbackground:0 0&#39; width=&#39;200&#39; height=&#39;200&#39; viewBox=&#39;0 0 100 100&#39; preserveAspectRatio=&#39;xMidYMid&#39; display=&#39;block&#39;%3e%3ccircle cx=&#39;50&#39; cy=&#39;50&#39; r=&#39;32&#39; stroke-width=&#39;8&#39; stroke=&#39;%23f8651b&#39; stroke-dasharray=&#39;50.26548245743669 50.26548245743669&#39; fill=&#39;none&#39; stroke-linecap=&#39;round&#39;%3e%3canimateTransform attributeName=&#39;transform&#39; type=&#39;rotate&#39; repeatCount=&#39;indefinite&#39; dur=&#39;1s&#39; keyTimes=&#39;0%3b1&#39; values=&#39;0 50 50%3b360 50 50&#39;/%3e%3c/circle%3e%3c/svg%3e"/> </div> '},713:(e,t,a)=>{var r=a(781),i=a(876),n=a(290),o=a(622),s=a(730),l=r(i),d=r(n),p=r(o),c=r(s),u=' <div id="title">Project files</div> <div class="main-wrapper row"> <div class="preview"> <p data-type="preview" data-where="job.file.name"></p> <div class="preview-wrapper"> <div class="preview-img"> <img id="preview-img" src="'+l+'"/> </div> <div class="preview-details"> <div class="preview-prop"> <img class="icon" src="'+d+'"/> <div> <p data-label="prop.time-est"></p> <p data-format="time" data-type="preview" data-where="job.estimatedPrintTime"> NA </p> </div> <div> <p data-label="prop.est-end"></p> <p data-format="timeEst" data-type="preview" data-where="job.estimatedPrintTime"> NA </p> </div> </div> <div class="preview-prop"> <img class="icon" src="data:image/svg+xml,%3csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;16.284&#39; height=&#39;14.929&#39;%3e%3cdefs%3e%3cstyle%3e.a%7bfill:%23f8651b%3bfill-rule:evenodd%7d%3c/style%3e%3c/defs%3e%3cpath class=&#39;a&#39; d=&#39;M5.427 5.426H2.716v2.716h2.711zM9.498 9.497H6.787v2.716h2.711z&#39;/%3e%3cpath d=&#39;M16.284 0v14.929H0V0zm-1.355 4.071H1.36v9.5h13.569z&#39; fill=&#39;white&#39; fill-rule=&#39;evenodd&#39;/%3e%3cpath class=&#39;a&#39; d=&#39;M5.427 9.497H2.716v2.716h2.711zM13.568 5.426h-2.71v2.716h2.71zM9.498 5.426H6.787v2.716h2.711zM13.568 12.213h-2.71V9.497h2.71z&#39;/%3e%3c/svg%3e"/> <div> <p data-label="prop.last-mod"></p> <p data-format="date" data-type="preview" data-where="job.file.date"> NA </p> </div> </div> </div> </div> <div class="preview-buttons"> <div class="preview-buttons-first"> <button class="no" id="delete"> <img src="data:image/svg+xml,%3csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;12.221&#39; height=&#39;14.661&#39; viewBox=&#39;0 0 35.63 42.74&#39; shape-rendering=&#39;geometricPrecision&#39; text-rendering=&#39;geometricPrecision&#39; image-rendering=&#39;optimizeQuality&#39; fill-rule=&#39;evenodd&#39; clip-rule=&#39;evenodd&#39;%3e%3cdefs%3e%3cstyle%3e.fil0%7bfill:white%7d%3c/style%3e%3c/defs%3e%3cg id=&#39;Layer_x0020_1&#39;%3e%3cpath id=&#39;iconmonstr-trash-can-28.svg&#39; class=&#39;fil0&#39; d=&#39;M21.28 3.56h-7.11v1.8h7.11z&#39;/%3e%3cpath id=&#39;iconmonstr-trash-can-28.svg_0&#39; class=&#39;fil0&#39; d=&#39;M24.84 16.03c0-.99-.82-1.81-1.81-1.81-.99 0-1.81.82-1.81 1.81v16.04c0 .99.82 1.81 1.81 1.81.99 0 1.81-.82 1.81-1.81V16.03z&#39;/%3e%3cpath id=&#39;iconmonstr-trash-can-28.svg_1&#39; class=&#39;fil0&#39; d=&#39;M14.17 16.03c0-.99-.82-1.81-1.81-1.81-.99 0-1.81.82-1.81 1.81v16.04c0 .99.82 1.81 1.81 1.81.99 0 1.81-.82 1.81-1.81V16.03z&#39;/%3e%3cpath id=&#39;iconmonstr-trash-can-28.svg_2&#39; class=&#39;fil0&#39; d=&#39;M30.2 42.74H5.3c-1.98 0-3.56-1.57-3.56-3.56V8.92H-.01V5.36h10.67V2.68c0-1.46 1.22-2.68 2.68-2.68h8.92c1.46 0 2.68 1.17 2.68 2.68v2.68h10.67v3.56h-1.75v30.26c0 1.98-1.57 3.56-3.56 3.56h-.12zm0-33.82H5.3v29.39c0 .47.41.87.87.87h23.15c.47 0 .87-.41.87-.87V8.92z&#39;/%3e%3c/g%3e%3c/svg%3e"/> <p>delete</p> </button> </div> <div class="buttons-wrapper"> <button class="yes" id="start"> <img src="'+p+'"/> <p>start print</p> </button> <button class="no" id="cancel"> <img src="'+c+'"/> <p>cancel print</p> </button> </div> </div> </div> </div> <template id="modal-confirm"> <div class="modal-confirm"> <div> You are about to start a remote print using the web UI. Please, make sure your 3D printer is set up correctly and ready for the print. <ul> <li>The printing platform is clean and installed in the printer</li> <li>A sufficient amount of resin is in the tank</li> <li>The orange acrylic lid is closed</li> </ul> </div> <div class="buttons-wrapper"> <button class="yes" id="yes"> <img src="'+p+'"/> <p>Confirm</p> </button> <button class="no" id="no"> <img src="'+c+'"/> <p>Cancel</p> </button> </div> </div> </template> <template id="modal-delete"> <div class="modal-delete"> <p></p> <div class="buttons-wrapper"> <button class="yes" id="yes"> <img src="'+p+'"/> <p>Confirm</p> </button> <button class="no" id="no"> <img src="'+c+'"/> <p>Cancel</p> </button> </div> </div> </template> ';e.exports=u},3:(e,t,a)=>{var r=a(781),i=a(819),n=a(876),o=a(290),s=a(578),l=' <div id="title">Project files</div> <div class="main-wrapper center"> <div class="component proj-upload"> <p>upload project</p> <div class="upload"> <img class="icon" src="'+r(i)+'"/> <p>Choose a *.sl1 or drop it here.</p> </div> </div> <div id="projects"></div> </div> <template id="node-up"> <div class="node"> <img class="icon" src="data:image/svg+xml,%3csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;21&#39; height=&#39;22.275&#39; viewBox=&#39;0 0 82.32 87.32&#39; shape-rendering=&#39;geometricPrecision&#39; text-rendering=&#39;geometricPrecision&#39; image-rendering=&#39;optimizeQuality&#39; fill-rule=&#39;evenodd&#39; clip-rule=&#39;evenodd&#39;%3e%3cpath fill=&#39;%23f8651b&#39; d=&#39;M82.32 70.56H50.96V39.2h19.6L35.28 0 0 39.2h19.6v48.12h62.72z&#39;/%3e%3c/svg%3e"/> <p></p> </div> </template> <template id="node-folder"> <div class="node"> <img class="icon" src="data:image/svg+xml,%3csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;19.252&#39; height=&#39;14.955&#39; fill-rule=&#39;evenodd&#39; clip-rule=&#39;evenodd&#39; image-rendering=&#39;optimizeQuality&#39; shape-rendering=&#39;geometricPrecision&#39; text-rendering=&#39;geometricPrecision&#39; viewBox=&#39;0 0 15.062 11.696&#39;%3e%3cpath fill=&#39;%23f8651b&#39; d=&#39;M.001 5.847v-5.85h3.077l.214.247c.277.323.822.867 1.066 1.069.413.339.784.547 1.246.696.576.185.197.172 5.093.18l4.365.005v9.503H0z&#39;/%3e%3c/svg%3e"/> <p></p> </div> </template> <template id="node-project"> <div class="node line"> <img class="node-img" src="'+r(n)+'"/> <div class="node-wrapper"> <p id="name"></p> <div class="node-details"> <div class="details" data-format="time" data-where="gcodeAnalysis.estimatedPrintTime"> <img class="icon" src="'+r(o)+'"/> <p> Printing time <span></span> </p> </div> <div class="details" data-format="material" data-where="gcodeAnalysis.material"> <img class="icon" src="'+r(s)+'"/> <p> Material <span></span> </p> </div> </div> </div> </div> </template> ';e.exports=l},198:(e,t,a)=>{var r=a(781),i=a(622),n=a(730),o=' <div id="title">Question</div> <div class="main-wrapper"> <div id="question"></div> <div class="buttons-wrapper"> <button class="yes" id="yes"> <img src="'+r(i)+'"/> <p>save changes</p> </button> <button class="no" id="no"> <img src="'+r(n)+'"/> <p>cancel</p> </button> </div> </div> ';e.exports=o},319:e=>{e.exports=' <div id="title">Temperatures</div> <div class="main-wrapper row" id="graph"></div> '},781:e=>{"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(t.hash&&(e+=t.hash),t.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(e)?'"'.concat(e,'"'):e)}},562:(e,t,a)=>{"use strict";a.d(t,{LK:()=>s,Z5:()=>d,gJ:()=>l});var r=a(829),i=a(203);const n=()=>"ApiKey"==sessionStorage.getItem("authType")?{"X-Api-Key":sessionStorage.getItem("apiKey"),Accept:"application/json"}:{Accept:"application/json"},o=()=>new Promise(((e,t)=>(sessionStorage.setItem("auth","pending"),fetch("/api/version",{headers:n()}).then((t=>{if(401==t.status){t.json().then((e=>(0,i.S)({data:e})));const a=t.headers.get("WWW-Authenticate").split(" ")[0];return sessionStorage.setItem("authType",a),sessionStorage.removeItem("apiKey"),"ApiKey"==a?new Promise(((e,t)=>{(0,r.o)("apiKey",{timeout:0,closeOutside:!1,events:{click:{login:(t,a)=>{t.preventDefault();let r=document.getElementById("apiKey").value;a(),e(r)}},keydown:{apiKey:(t,a)=>{"Enter"==t.key&&(a(),e(t.target.value))}}}})})).then((e=>sessionStorage.setItem("apiKey",e))).then((()=>o().then((t=>e(t))))):o().then((t=>e(t)))}return t.json()})).then((t=>{sessionStorage.setItem("auth","true"),e(t)}))))),s=(e,t={})=>new Promise(((a,r)=>{"true"==sessionStorage.getItem("auth")?(t.headers={...t.headers,...n()},fetch(e,t).then((e=>{const t=e.status,i={code:t,eTag:e.headers.get("etag")};401==t?(sessionStorage.setItem("auth","false"),r(i)):204==t||304==t?a(i):e.json().then((t=>{i.data=t,e.ok?a(i):r(i)}))}))):r({code:401})})),l=e=>new Promise(((t,a)=>{if("true"==sessionStorage.getItem("auth")){const r={headers:{"Content-Type":"image/png",...n()}};fetch(e,r).then((e=>{401==e.status&&(sessionStorage.setItem("auth","false"),a()),e.blob().then((e=>t(URL.createObjectURL(e))))}))}else a()})),d=()=>null==localStorage.getItem("showWelcome")?new Promise(((e,t)=>{(0,r.o)("welcome",{closeCallback:()=>{localStorage.setItem("showWelcome",!0),e()}})})).then((()=>o())):o()},222:(e,t,a)=>{"use strict";a.d(t,{G3:()=>c,Vb:()=>u,m0:()=>p,Iu:()=>m});const r=function(e,t){let a=t.split("."),r=e;for(const e of a)if(r=r[e],!r)break;return r},i=a(31),n=i.langs,o=i.texts;let s,l;function d(){return navigator.language||navigator.userLanguage||""}function p(e){const t=n.indexOf(e);return-1!==t&&(l=t,s=e,localStorage.setItem("lang",s),!0)}function c(){return s}function u(){return[...n]}function m(e,t){let a=r(o,`${e}.${l}`);if(null==a)return a=e,console.warn(`[${s}] missing translation for "${e.split("\n").join("\\n")}"`),h(a,t),a;let i=null;if(t&&(i=Object.assign({},t),delete i.query,delete i.ref),i&&Object.keys(i).length>0){let r,i=a,n=/{{(.*?)}}/g;for(;r=n.exec(a);){let n=a.substr(r.index+2,r[0].length-4);if("query"!==n&&"ref"!==n)if(n in t){let e=t[n];i=i.replace(r[0],e)}else console.warn(`missing parameter [${n}] in translation for ${e}.`)}a=i}return h(a,t),a}function h(e,t){if(t)if(t.ref){t.ref.innerHTML=e}else if(t.query){let a=document.querySelector(t.query);a?a.innerHTML=e:console.warn(`cannot find element with "${t.query}" query`)}}p(localStorage.getItem("lang"))||p(d().toLowerCase())||p(d().toLowerCase().split("-")[0])||p("en"),console.log(`known languages: ${n}`),console.log("known texts: "),console.log(o)},31:e=>{"use strict";e.exports=JSON.parse('{"langs":["cs","de","en","es","fr","it","pl"],"texts":{"home":{"link":["Přehled","Dashboard","Dashboard","Panel principal","Tableau de bord","Dashboard","Panel kontrolny"],"title":["Stav tiskárny","Druckerstatus","Printer status","Estado de la impresora","État de l\'imprimante","Stato della stampante","Stan drukarki"]},"proj":{"link":["Projekty","Projekte","Projects","Projectos","Projets","Progetti","Projekty"],"title":["Soubory projektu","Projektdateien","Project files","Archivos de proyecto","Fichiers de projet","File di progetto","Pliki projektu"],"del":["Smazat soubor","Datei löschen","Delete File","Borrar archivo","Supprimer le Fichier","Elimina File","Usuń plik"],"main":["Zpět","Startseite","Main","Principal","Principal","Principale","Główne"]},"temps":{"title":["Teploty","Temperaturen","Temperatures","Temperaturas","Températures","Temperature","Temperatury"],"y":["Teplota [°C]","Temperatur [°C]","Temperature [°C]","Temperatura [°C]","Température [°C]","Temperatura [°C]","Temperatura [°C]"],"x":["Čas [s]","Zeit [s]","Time [s]","Tiempo [s]","Temps [s]","Tempo [s]","Czas [s]"]},"prop":{"st-printing":["Probíhá tisk","Druckt","Printing","Imprimiendo","Impression","Stampa","Drukowanie"],"st-idle":["Nečinná","Leerlauf","Idle","En espera","Repos","Inattivo","Oczekuje"],"time-est":["Odhad doby tisku","Druckzeit Schätzen","Print Time Estimate","Tiempo Estimado de Impresión","Estimation du Temps D\'impression","Stima del Tempo di Stampa","Szacowany Czas Druku"],"est-end":["Odhadovaný konec","Erwartetes Ende","Estimated end","Fin estimado","Fin estimée","Fine prevista","Szacowane zakończenie"],"layers":["Vrstvy","Schichten","Layers","Capas","Couches","Layer","Warstwy"],"layer-ht":["Výška vrstvy","Schichthöhe","Layer Height","Altura de Capa","Hauteur de Couche","Altezza Layer","Wysokość Warstwy"],"exp-times":["Doba expozice","Belichtungszeiten","Exposure times","Tiempos de exposición","Temps d\'exposition","Tempi di esposizione","Czasy naświetlania"],"last-mod":["Naposledy upraveno","Zuletzt Geändert","Last Modified","Ultima Modificación","Dernière Modification","Ultima Modifica","Ostatnio Zmodyfikowany"],"pnt-time":["Doba tisku","Druckzeit","Printing time","Tiempo de impresión","Temps d\'impression","Tempo di stampa","Czas druku"],"material":["Materiál","Material","Material","Material","Matériau","Materiale","Materiał"],"temp-nozzle":["Teplota trysky","Düsentemperatur","Nozzle Temperature","Temperatura del nozzle","Température de la buse","Temperatura ugello","Temperatura dyszy"],"temp-bed":["Vyhřívaná podložka","Heizbett","Heatbed","Base calefactable","Plateau chauffant","Piano riscaldato","Stół"],"speed":["Rychlost tisku","Druckgeschwindigkeit","Printing Speed","Velocidad de impresión","Vitesse d\'impression","Velocità di stampa","Prędkość drukowania"],"z-height":["Výška Z","Z-Höhe","Z-Height","Altura-Z","Hauteur en Z","Altezza-Z","Wysokość Z"],"cover-opened":["Otevřené","Geöffnet","Opened","Abierta","Ouvert","Aperto","Otwarta"],"cover-closed":["Uzavřené","Geschlossen","Closed","Cerrada","Fermé","Chiuso","Zamknięta"]},"msg":{"del-proj":["Opravdu chcete smazat {{file_name}}?","Wollen Sie wirklich {{file_name}} löschen?","Do you really want to delete {{file_name}}?","¿Realmente deseas borrar {{file_name}}?","Voulez-vous vraiment supprimer le fichier {{file_name}} ?","Vuoi davvero eliminare il file {{file_name}}?","Czy na pewno chcesz usunąć plik {{file_name}}?"]},"btn":{"del":["smazat","löschen","delete","borrar","supprimer","elimina","usuń"],"start-pt":["Start tisku","Druck starten","Start print","Empezar impresión","Lancer l\'impression","Inizia stampa","Start druku"],"chg-exp":["Změnit časy expozice","Belichtungszeiten ändern","Change exposure times","Cambiar tiempos de exposición","Modifier les temps d\'exposition","Cambia i tempi di esposizione","Zmień czasy naświetlania"],"cancel":["Zrušit","Abbrechen","Cancel","Cancelar","Annuler","Annulla","Anuluj"],"yes":["Ano","Ja","Yes","Sí","Oui","Sì","Tak"],"no":["Ne","Nein","No","No","Non","No","Nie"]},"upld":{"title":["nahrát projekt","Projekt hochladen","upload project","envía proyecto","télécharger un projet","carica progetto","prześlij projekt"],"open":["Vyberte {{file}} nebo jej přetáhněte sem.","{{file}} wählen oder hier fallenlassen.","Choose a {{file}} or drop it here.","Selecciona un {{file}} o arrástralo aquí.","Choisissez un {{file}} ou déposez-le ici.","Scegli un {{file}} o trascinalo qui.","Wybierz {{file}} lub przeciągnij go tutaj"]},"glob":{"hostname":["Hostname","Hostname","Hostname","Nombre del Host","Nom d\'hôte","Nome host","Nazwa Hosta"]}}}')},203:(e,t,a)=>{"use strict";a.d(t,{S:()=>i});var r=a(922);function i(e){const t=e.data;if(t){const e=`${t.title} - ${t.code}`,a=t.message+`<br/><a href="${"https://help.prusa3d.com/en/"+t.code.replace("#","")}">more info</a>`;(0,r.vU)(e,a)}}},829:(e,t,a)=>{"use strict";a.d(t,{o:()=>i});const r={count:0,current:0},i=(e,t={})=>{const a=Object.assign({timeout:5500,closeOutside:!0,events:{},insert:{}},t),i=r.count;r.count=r.count+1;const n=document.getElementById(`modal-${e}`),o=document.importNode(n.content,!0),s=document.querySelector(".modal-box"),l=s.parentElement;for(;s.firstChild;)s.removeChild(s.firstChild);const d=()=>{i==r.current&&l.classList.contains("show-modal")&&(l.classList.remove("show-modal"),a.closeCallback&&a.closeCallback())},p=e=>{e.target===l&&d()};let c=o.querySelector(".close-button");for(var u in c&&c.addEventListener("click",d),a.closeOutside&&window.addEventListener("click",p),a.insert){const e=a.insert[u];Array.isArray(e)?e.forEach((e=>o.querySelector(u).appendChild(e))):o.querySelector(u).innerHTML=e}for(var m in a.events){let e=a.events[m];for(var h in e){let t=o.getElementById(h);const a=e[h];t.addEventListener(m,(e=>a(e,d)))}}r.current=i,s.appendChild(o),l.classList.add("show-modal"),a.timeout>0&&setTimeout(d,a.timeout)}},922:(e,t,a)=>{"use strict";a.d(t,{um:()=>n,vU:()=>o});const r=document.getElementById("prusa-toast"),i=(e,t,a)=>{const r=document.getElementById("toast"),i=document.importNode(r.content,!0),n=i.querySelector("article");return n.className=a,i.querySelector("p").innerHTML=e,i.querySelector(".toast-body").innerHTML=t,n};function n(e,t,a=""){const n=i(e,t,a);n.querySelector("span").addEventListener("click",(e=>{e.preventDefault(),n.style.display="none"})),setTimeout((()=>{r.removeChild(n)}),10500),r.appendChild(n)}function o(e,t){const a=i(e,t,"error");a.querySelector("span").addEventListener("click",(e=>{e.preventDefault(),r.removeChild(a)})),r.appendChild(a)}},65:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});const r=a(2).default},2:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>le,updateTitles:()=>se});var r=a(222);const i=500;let n=100,o=new Map;const s=(e,t)=>{o=e,n=t};function l(){const e=document.getElementById("graph");e&&(0==e.childElementCount&&function(){const e=document.getElementById("graph-template"),t=document.importNode(e.content,!0);document.getElementById("graph").appendChild(t),(0,r.Iu)("temps.y",{query:"#graph .temp-label-y"}),(0,r.Iu)("temps.x",{query:"#graph .temp-label-x"})}(),o.forEach(((e,t)=>{!function(e,t){const a=(new Date).getTime();let r=[];if(e.length>1){let t=e[0],o=i-2.66*(a-t[0]-1e4)/1e3;for(let e=1;e<t.length;e++)r.push(`M${o},${250-2*t[e]/(n/100)}`);for(let s=1;s<e.length;s++){t=e[s],o=i-2.66*(a-t[0]-1e4)/1e3;for(let e=0;e<r.length;e++)r[e]=r[e]+`L${o},${250-2*t[e+1]/(n/100)}`}}t.setAttribute("d",r)}(e,document.getElementById(t))})))}function d(e,t){!function(e,t){e.push(t);const a=(new Date).getTime();for(;e.length>1&&e[1][0]<a-18e4;)e.shift()}(o.get(e),t)}const p={load:()=>{(0,r.Iu)("temps.title",{query:"#title"}),l()}};var c=a(319),u=a.n(c),m=a(562),h=a(872);function g(e){return e>0?e.toFixed(1):0}function v(e){const t=new Date(e);return(t.toDateString()+" "+t.toTimeString()).substring(0,25)}function f(e){let t="00:00";if(e){let a=new Date,r=new Date(a.getTime()+1e3*e),i=new Date(a);i.setDate(i.getDate()+1);let n="";if(r.getDate()==a.getDate()&&r.getMonth()==a.getMonth())n="today at ";else if(r.getDate()==i.getDate()&&r.getMonth()==i.getMonth())n="tomorrow at ";else{let e={month:"numeric",day:"numeric"};n=`${r.toLocaleString(window.navigator.language,e)} at `}t=n+("0"+r.getHours()).substr(-2)+":"+("0"+r.getMinutes()).substr(-2)}return t}function y(e){if(e<60)return"Less than a minute";const t=Math.floor(e/60%60),a=Math.floor(e/3600%24);return a>0?a+" h"+(t>0?` ${t} min`:""):t+" minute"+(t>1?"s":"")}const b=(e,t)=>{if(void 0===t)return"NA";switch(e){case"number":return g(t);case"temp":return g(t)+" °C";case"fan":return g(t)+" RPM";case"print":return g(t)+"%";case"pos":return g(t)+" mm";case"date":return v(t);case"time":return y(t);case"timeEst":return f(t);case"progress":return g(100*t)+"%";default:return t}},w=(e,t)=>b(e,t),j=(e,t)=>{try{const a=e.split(".");let r=t;for(;a.length;)r=r[a.shift()];return r}catch(e){return}},T=(e,t)=>{document.querySelectorAll(`[data-type="${e}"]`).forEach((e=>{const a=e.dataset.where,r=a?j(a,t):t;e.innerHTML=w(e.dataset.format,r)}))};var S=a(203),I=a(922);const k={},E=()=>{k.title=null,k.questionChildren=null,k.yes=null,k.no=null,(0,h.c)(k.next)},z=e=>{const t=Object.assign({title:null,questionChildren:[],yes:e=>e(),no:e=>e(),yesText:(0,r.Iu)("btn.yes"),noText:(0,r.Iu)("btn.no"),next:"#projects"},e);for(let e in t)k[e]=t[e];(0,h.c)("#question")},C={load:()=>{k.title||(0,h.c)("#dashboard"),document.getElementById("title").innerHTML=k.title;const e=document.getElementById("question"),t=k.questionChildren;Array.isArray(t)?t.forEach((t=>e.appendChild(t))):e.innerHTML=t;for(let e of["yes","no"]){const t=document.getElementById(e),a=k[e];t.querySelector("p").innerHTML=k[e+"Text"],t.addEventListener("click",(e=>{e.stopPropagation(),(0,h.c)("#loading"),a(E)}))}}},x=()=>{(0,h.c)("#loading"),z({title:"Cancel",questionChildren:"Do you really want to cancel print?",yes:e=>{(0,m.LK)("/api/job",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({command:"cancel"})}).catch((e=>(0,S.S)(e))).finally((t=>e()))},next:"#job"})},P=()=>{(0,m.LK)("/api/job").then((e=>{const t=e.data,a=t.progress.completion,r=document.querySelector("progress");null!=a&&r&&(document.querySelector("progress").value=a,T("job",t));const i=document.getElementById("no");i&&!i.onclick&&(i.onclick=x)})).catch((e=>(0,S.S)(e)))},q={load:P,update:e=>{e.printer.state.flags.printing?e.printer.state.flags.ready?(0,h.c)("#preview"):P():(0,h.c)("#projects")}};const M={init:()=>{(0,r.Iu)("upld.open",{query:".upload p",file:"*.gcode"})}},L={load:()=>{console.log("Dashboard Logic - mk3"),document.querySelector("#title-status-label").innerHTML=(0,r.Iu)("home.title")+": ",(0,r.Iu)("upld.title",{query:".home-row .component p"}),(0,r.Iu)("temps.title",{query:".home-row .component:nth-child(2) p"}),se(),M.init(),l()},update:e=>{const t=document.querySelector(".job");se()?(t.hasAttribute("hidden")&&t.removeAttribute("hidden"),P()):t.hasAttribute("hidden")||t.setAttribute("hidden",!0)}};var D=a(373),A=a.n(D);const H={current_path:[],files:{},eTag:null,free:0,total:0,firstTime:!0},B=(e,t)=>{if(e.type==t.type){let a=e.display||e.name||"",r=t.display||t.name||"";return a.localeCompare(r)}return"folder"==e.type?-1:1};function N(){(0,r.Iu)("upld.title",{query:".proj-upload p"}),M.init();const e=document.getElementById("projects");for(;e.firstChild;)e.removeChild(e.firstChild);if(H.current_path.length>0){let t=H.files[H.current_path[0]];for(let e=1;e<H.current_path.length;e++){let a=H.current_path[e];t=t.find((e=>e.name==a)).children}document.getElementById("title").innerHTML=H.current_path.join(" > "),e.appendChild(O("node-up",(0,r.Iu)("proj.main"),(()=>{H.current_path.pop(),N()})));for(let a of t.sort(B))"folder"==a.type?e.appendChild(_(a.display||a.name)):e.appendChild($(a))}else for(let t in H.files)document.getElementById("title").innerHTML=(0,r.Iu)("proj.title"),e.appendChild(_(t))}function O(e,t,a){const r=document.getElementById(e).content,i=document.importNode(r,!0);return i.querySelector(".node").addEventListener("click",(e=>{a(e),e.preventDefault()})),i.querySelector("p").appendChild(document.createTextNode(t)),i}function _(e){return O("node-folder",e,(()=>{H.current_path.push(e),N()}))}function $(e){const t=O("node-project",e.display||e.name,(t=>(e=>{let t=e.refs.resource;if(!t){let a=e.path;if(!a){const t=H.current_path.slice(1,H.current_path.length);t.push(e.name),a="/"+t.join("/")}t="api/files"+a}console.log(`Request file: ${t}`),(0,h.c)("#loading"),(0,m.LK)(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({command:"select"})}).then((e=>(0,h.c)("#preview"))).catch((e=>{(0,h.c)("#projects"),(0,S.S)(e)}))})(e))),a=t.querySelector(".node-details");if(a.querySelectorAll(".details").forEach((t=>{const i=j(t.dataset.where,e);i?function(e,t,a){function i(e){switch(e){case"gcodeAnalysis.layerHeight":return(0,r.Iu)("prop.layer-ht");case"gcodeAnalysis.estimatedPrintTime":return(0,r.Iu)("prop.pnt-time");case"gcodeAnalysis.material":return(0,r.Iu)("prop.material");case"gcodeAnalysis.layerHeight":return(0,r.Iu)("prop.layer-ht");default:return null}}const n=i(t),o=w(e.dataset.format,a);n?e.querySelector("p").innerHTML=`${n} <span>${o}</span>`:e.querySelector("span").innerHTML=o}(t,t.dataset.where,i):a.removeChild(t)})),e.refs.thumbnailBig){const a=t.querySelector("img.node-img");(0,m.gJ)(e.refs.thumbnailBig).then((e=>{a.src=e}))}return t}const Z={load:N,update:e=>{const t=e.printer.state.flags;t.printing?t.ready?(0,h.c)("#preview"):(0,h.c)("#job"):(H.firstTime&&(0,h.c)("#loading"),(0,m.LK)("/api/files?recursive=true",{headers:{"If-None-Match":H.eTag}}).then((e=>{const t=e.data;t&&(console.log("metadata:",t),H.files={local:t.files.filter((e=>"local"==e.origin)),usb:t.files.filter((e=>"sdcard"==e.origin))},H.free=t.free,H.total=t.total,H.eTag=e.eTag,H.firstTime=!1,"#projects"==window.location.hash&&(0,h.c)("#projects"))})).catch((e=>(0,S.S)(e))))}};var K=a(3),V=a.n(K),F=a(829);const U={load:()=>{(0,r.Iu)("proj.title",{query:"#title"}),(0,m.LK)("/api/job").then((e=>{const t=e.data;console.log(t);const a=t.job.file;if(T("preview",t),a.refs.thumbnailBig){const e=document.getElementById("preview-img");(0,m.gJ)(a.refs.thumbnailBig).then((t=>{e.src=t}))}document.getElementById("cancel").addEventListener("click",(e=>{(0,h.c)("#loading"),(0,m.LK)("/api/job",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({command:"cancel"})}).catch((e=>(0,S.S)(e))).finally((e=>(0,h.c)("#projects"))),e.preventDefault()})),document.getElementById("delete").addEventListener("click",(e=>{z({title:(0,r.Iu)("proj.del"),questionChildren:(0,r.Iu)("msg.del-proj",{file_name:a.name}),yes:e=>{(0,m.LK)(a.refs.resource,{method:"DELETE"}).catch((e=>(0,S.S)(e))).finally((t=>e()))},next:"#projects"}),e.preventDefault()})),document.querySelector(".yes").addEventListener("click",(e=>{(0,F.o)("confirm",{timeout:1e4,closeOutside:!1,events:{click:{yes:(e,t)=>{e.preventDefault(),(0,h.c)("#loading"),((0,I.um)("Start print","The printer is getting ready."),(0,m.LK)("/api/job",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({command:"start"})}).catch((e=>(0,S.S)(e)))).then((()=>{t(),(0,h.c)("#projects")}))},no:(e,t)=>{e.preventDefault(),t()}}}}),e.preventDefault()}))})),(0,r.Iu)("prop.time-est",{query:'[data-label="prop.time-est"]'}),(0,r.Iu)("prop.est-end",{query:'[data-label="prop.est-end"]'}),(0,r.Iu)("prop.layers",{query:'[data-label="prop.layers"]'}),(0,r.Iu)("prop.layer-ht",{query:'[data-label="prop.layer-ht"]'}),(0,r.Iu)("prop.exp-times",{query:'[data-label="prop.exp-times"]'}),(0,r.Iu)("prop.last-mod",{query:'[data-label="prop.last-mod"]'}),(0,r.Iu)("btn.del",{query:"#delete p"}),(0,r.Iu)("btn.start-pt",{query:"#start p"}),(0,r.Iu)("btn.chg-exp",{query:"#exposure p"}),(0,r.Iu)("btn.cancel",{query:"#cancel p"})},update:e=>{const t=e.printer.state.flags;t.printing?t.ready||(0,h.c)("#job"):(0,h.c)("#projects")}};var W=a(713),J=a.n(W),R=a(453),G=a.n(R),Q=a(198),Y=a.n(Q),X=a(685),ee=a.n(X);const te={version:void 0,printer:void 0};let ae=L;const re={routes:[{path:"dashboard",html:A(),module:L},{path:"projects",html:V(),module:Z},{path:"temperature",html:u(),module:p},{path:"preview",html:J(),module:U},{path:"job",html:G(),module:q},{path:"question",html:Y(),module:C},{path:"loading",html:ee(),module:{load:()=>{}}}],init:(e,t)=>{console.log("Init Printer API"),te.version=e,te.printer=t,ie(),(0,r.Iu)("prop.temp-nozzle",{query:'[data-label="prop.temp-nozzle"]'}),(0,r.Iu)("prop.temp-bed",{query:'[data-label="prop.temp-bed"]'}),(0,r.Iu)("prop.speed",{query:'[data-label="prop.speed"]'}),(0,r.Iu)("prop.z-height",{query:'[data-label="prop.z-height"]'}),(0,r.Iu)("prop.material",{query:'[data-label="prop.material"]'})},update:e=>{console.log("Update Printer API"),te.printer=e,T("telemetry",e),ne(e),oe()},setModule:e=>{ae=e}},ie=()=>{let e=new Map([["temp-line-blue",[]],["temp-line-orange",[]]]);s(e,300),l()},ne=e=>{const t=(new Date).getTime();d("temp-line-blue",[t,e.temperature.bed.actual]),d("temp-line-orange",[t,e.temperature.tool0.actual]),l()},oe=()=>{ae&&ae.update&&ae.update(te)},se=()=>(document.getElementById("title-hostname").innerHTML=te.version.hostname,te.printer.state.flags.printing&&!te.printer.state.flags.ready?(document.getElementById("title-status").innerText=(0,r.Iu)("prop.st-printing"),!0):(document.getElementById("title-status").innerText=(0,r.Iu)("prop.st-idle"),!1)),le=re},872:(e,t,a)=>{"use strict";a.d(t,{c:()=>i});var r=a(65);const i=e=>{const[t,a]=e.split("#");if(!a)return!1;const i=r.Z.routes.find((e=>e.path===a));if(!i)return!1;const n=document.getElementById("root");return n.innerHTML="",(new DOMParser).parseFromString(i.html,"text/html").body.childNodes.forEach((e=>n.appendChild(e))),i.module.load(),r.Z.setModule(i.module),!0}}},t={};function a(r){if(t[r])return t[r].exports;var i=t[r]={exports:{}};return e[r](i,i.exports,a),i.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e})(),(()=>{"use strict";var e=a(872),t=a(65),r=a(562),i=a(222);window.onload=()=>{(()=>{document.getElementById("menu").addEventListener("click",(e=>{const t=document.getElementById("menu");"navbar-burger"==t.className?(t.className="navbar-burger burger-open",document.getElementById("navbar").className=""):(t.className="navbar-burger",document.getElementById("navbar").className="burger-menu")}));let e=document.getElementById("lang");e.innerHTML=(0,i.Vb)().map((e=>`<option value="${e}">${e.toUpperCase()}</option>`)).join("\n"),e.value=(0,i.G3)(),document.getElementById("lang").addEventListener("change",(e=>{(0,i.m0)(e.currentTarget.value)&&window.location.reload()})),document.querySelectorAll("#navbar a[href]").forEach((e=>{let t=e.href.split("#");if(t.length>1)switch(t[t.length-1]){case"dashboard":(0,i.Iu)("home.link",{ref:e});break;case"projects":(0,i.Iu)("proj.link",{ref:e});break;case"temperature":(0,i.Iu)("temps.title",{ref:e})}}))})(),document.querySelectorAll("a[href]").forEach((t=>{t.addEventListener("click",(a=>{(0,e.c)(t.href)&&(document.title="Original Prusa MK3 - "+t.innerText,history.pushState(null,document.title,t.href),a.preventDefault())}))})),(0,r.Z5)().then((a=>{(0,r.LK)("/api/printer").then((i=>{t.Z.init(a,i.data),setInterval((()=>(0,r.LK)("/api/printer").then((e=>{t.Z.update(e.data)})).catch((e=>{if(401==e.code){"false"==(sessionStorage.getItem("auth")||"false")&&(0,r.Z5)()}}))),1e3),window.onpopstate=t=>t&&(0,e.c)(t.location),(0,e.c)(window.location.hash||"#dashboard")}))}))}})()})();
